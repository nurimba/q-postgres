module.exports=function(e){function t(r){if(n[r])return n[r].exports;var u=n[r]={exports:{},id:r,loaded:!1};return e[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.pool=t.types=t.orm=void 0;var u=n(10),a=r(u),i=n(4),o=r(i),f=n(3),l=r(f),c=n(23),d=n(14),s=r(d),p=n(6),v=r(p),b=(t.orm=s["default"],t.types=v["default"],"BEGIN"),E="COMMIT",m="ROLLBACK",h=function(){var e=(0,l["default"])(o["default"].mark(function t(e){var n,r;return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.connect();case 2:if(n=t.sent,r=n.errno,!r){t.next=6;break}throw new Error(n.message);case 6:return t.abrupt("return",n);case 7:case"end":return t.stop()}},t,void 0)}));return function(t){return e.apply(this,arguments)}}(),_=function(e,t){return new a["default"](function(n,r){e.query(t,function(e,t){return{NODE_ENV:"production"}.PG_DEBUG!==!0&&"EXECUTE"!=={NODE_ENV:"production"}.PG_DEBUG||console.log(e,t),e?r(e):void n(t)})})},y=function(){var e=(0,l["default"])(o["default"].mark(function t(e){var n,r;return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:return n=t.sent,r={release:function(){var e=(0,l["default"])(o["default"].mark(function t(){return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.release());case 1:case"end":return e.stop()}},t,void 0)}));return function(){return e.apply(this,arguments)}}(),execute:_.bind(void 0,n),commit:function(){var e=(0,l["default"])(o["default"].mark(function t(){return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(n,E);case 2:return e.abrupt("return",r);case 3:case"end":return e.stop()}},t,void 0)}));return function(){return e.apply(this,arguments)}}(),rollback:function(){var e=(0,l["default"])(o["default"].mark(function t(){return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(n,m);case 2:return e.abrupt("return",r);case 3:case"end":return e.stop()}},t,void 0)}));return function(){return e.apply(this,arguments)}}(),startTransaction:function(){var e=(0,l["default"])(o["default"].mark(function t(){return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(n,b);case 2:return e.abrupt("return",r);case 3:case"end":return e.stop()}},t,void 0)}));return function(){return e.apply(this,arguments)}}()},t.abrupt("return",r);case 5:case"end":return t.stop()}},t,void 0)}));return function(t){return e.apply(this,arguments)}}();t.pool=function w(e){var w=new c.Pool(e),t=y.bind(void 0,w);return{connect:t}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.condToWhereList=t.objToListFields=t.getFieldsTypes=t.fieldIsString=t.forceString=t.getListFields=t.getListReturning=t.columnIsString=t.stringTypes=t.blankLine=t.breakLine=void 0;var u=n(13),a=r(u),i=n(9),o=r(i),f=n(6),l=r(f),c=l["default"].TEXT,d=l["default"].DATE,s=l["default"].NAME,p=l["default"].CHAR1,v=l["default"].CHAR2,b=l["default"].CHAR8,E=l["default"].EMAIL,m=l["default"].PHONE,h=l["default"].STRING,_=l["default"].SELECT,y=l["default"].CPFCNPJ,w=l["default"].DATETIME,x=l["default"].REFERENCES,g=t.breakLine="\n",R=(t.blankLine=""+g+g,t.stringTypes=[c,s,d,p,v,b,E,m,h,_,y,w]),T=(t.columnIsString=function(e){var t=T(e);return R.indexOf(t)>-1},t.getListReturning=function(e){var t=e.fields;return(0,o["default"])(t).join(", ")},t.getListFields=function(e){var t=e.fields,n=e.data;return(0,o["default"])(t).filter(function(e){return n.hasOwnProperty(e)&&void 0!==n[e]})},t.forceString=function(e){return"'"+String(e).replace("'","\\'").replace('"','\\"')+"'"},t.fieldIsString=function(e,t){return Boolean(e&&e.find(function(e){var n=e.field,r=e.type;return t===n&&R.indexOf(r)>-1}))},function(e){return"object"===("undefined"==typeof e?"undefined":(0,a["default"])(e))?e.type:e}),N=function(e,t){e&&(0,o["default"])(e).forEach(function(n){return L(e[n].schema,t)})},O=function(e,t){e&&(0,o["default"])(e).forEach(function(n){var r=e[n],u=r.table,a=r.extraFields,i=r.schema;L(i,t),L({table:u,fields:a},t)})},L=t.getFieldsTypes=function j(e,t){t||(t={_tables:{}});var n=e.table,r=e.fields,u=e.hasMany,a=e.manyToMany;return t._tables.hasOwnProperty(n)?{}:(t._tables[n]=null,(0,o["default"])(r).forEach(function(e){var u=T(r[e]);t[n+"."+e]=u,u===x&&j(r[e].schema,t)}),N(u,t),O(a,t),t)},M=function(e,t,n){return!e.find(function(e){var r=e.field,u=e.table;return r===n&&u===t})},P=(t.objToListFields=function(e){var t=e.table,n=e.fields,r=e.select,u=(r||[]).map(function(e){return e.table||e.table===t,e}),a=M.bind(void 0,u,t);return u.concat((0,o["default"])(n).filter(a).map(function(e){var r=T(n[e]);return{type:r,field:e,table:t}}))},{eq:"=",lt:"<",gt:">",lq:"<=",gq:">=",df:"<>",lk:"like"}),A=function(e,t){var n=e[t],r=void 0,u=n.split(":");if(2===u.length){var a=String(u[0]).toLowerCase().trim();P.hasOwnProperty(a)&&(n=String(u[1]).trim(),r=P[a],"like"===r&&(n="%"+n+"%"))}return r||(r="="),{value:n,comparator:r}},I=function(e){var t=void 0,n=e,r=e.split(".");return 2===r.length&&(t=String(r[0]).trim(),n=String(r[1]).trim()),{field:n,table:t}};t.condToWhereList=function(e,t){t||(t=[]);var n=A.bind(void 0,e);return(0,o["default"])(e).forEach(function(e){var r=I(e),u=r.field,a=r.table,i=n(e),o=i.value,f=i.comparator;t.push({field:u,comparator:f,value:o,table:a})}),t}},function(e,t){e.exports=require("babel-runtime/core-js/object/assign")},function(e,t){e.exports=require("babel-runtime/helpers/asyncToGenerator")},function(e,t){e.exports=require("babel-runtime/regenerator")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(10),a=r(u),i=n(4),o=r(i),f=n(9),l=r(f),c=n(3),d=r(c),s=n(13),p=r(s),v=n(6),b=r(v),E=b["default"].DATE,m=b["default"].BOOLEAN,h=function(e){return"object"===("undefined"==typeof e?"undefined":(0,p["default"])(e))?e.type:e},_=function(e){var t=new Date(e),n=("0"+t.getDate()).substr(-2),r=("0"+(t.getMonth()+1)).substr(-2);return t.getFullYear()+"-"+r+"-"+n},y=function(){var e=(0,d["default"])(o["default"].mark(function t(e,n){var r,u=e.fields,a=e.count;return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},!a){e.next=5;break}if(r._counter=parseInt(n._counter||0,10),1!==(0,l["default"])(n).length){e.next=5;break}return e.abrupt("return",r);case 5:return(0,l["default"])(u).forEach(function(e){var t=n[e]||n[e.toLowerCase()];r[e]=t;var a=h(u[e]);a===m&&(r[e]=Boolean(t)),null!==t&&void 0!==t&&a===E&&(r[e]=_(t))}),e.abrupt("return",r);case 7:case"end":return e.stop()}},t,void 0)}));return function(t,n){return e.apply(this,arguments)}}();t["default"]=function(){var e=(0,d["default"])(o["default"].mark(function t(e,n,r){var u,i,f=n.execute;return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(r);case 2:return u=t.sent,i=u.rows,t.abrupt("return",a["default"].all(i.map(y.bind(void 0,e))));case 5:case"end":return t.stop()}},t,void 0)}));return function(t,n,r){return e.apply(this,arguments)}}()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="TEXT",r="VARCHAR(255)",u="DATE",a="CHAR(1)",i="CHAR(2)",o="CHAR(8)",f="VARCHAR(50)",l="VARCHAR(30)",c="NUMERIC(15,2)",d="VARCHAR(255)",s="VARCHAR(25)",p="BOOLEAN",v="INTEGER",b="VARCHAR(14)",E="NUMERIC(15,8)",m="SERIAL NOT NULL",h="TIMESTAMP",_="REFERENCES";t["default"]={TEXT:n,DATE:u,NAME:r,CHAR1:a,CHAR2:i,CHAR8:o,EMAIL:f,PHONE:l,MONEY:c,STRING:d,SELECT:s,BOOLEAN:p,INTEGER:v,CPFCNPJ:b,PERCENT:E,PRIMARY:m,DATETIME:h,REFERENCES:_}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(2),a=r(u),i=n(8),o=r(i),f=n(1),l=function(e){for(var t=e.table,n=e.selectFields,r=e.conditional,u=e.limitRows,a=e.orderFields,i=e.joinTables,o=e.groupFields,l="\nSELECT "+n+"\nFROM "+t+"\n"+i+"\n"+r+"\n"+o+"\n"+a+"\n"+u+"\n";l.indexOf(f.blankLine)!==-1;)l=l.replace(f.blankLine,f.breakLine);return l.trim()},c=function(e){var t=e.limit,n=e.page;if(!t)return"";if(!n)return"LIMIT "+t;var r=(n-1)*t;return r?"LIMIT "+t+" OFFSET "+r:"LIMIT "+t},d=function(e,t,n,r){var u=r.field,a=r.order,i=r.table||t,o=e?e.find(function(e){var n=e.table||t;return e.field===u&&n===i}):void 0;if(!o)return(i+"."+u+" "+(a||"")).trim();var f=e.indexOf(o)+1;return n&&f++,(f+" "+(a||"")).trim()},s=function(e){var t=e.table,n=e.select,r=e.orderBy,u=e.count;if(!n)return"";if(!r)return"";var a=d.bind(void 0,n,t,u),i=r.map(a).join(", ");return i?"ORDER BY "+i:""},p=function(e){var t=e.joins;return t?t.map(function(e){var t="string"==typeof e;if(t)return e;var n=e.tableRef,r=e.fieldRef,u=e.tableLink,a=e.fieldLink;return"JOIN "+n+" ON ("+n+"."+r+" = "+u+"."+a+")"}).join(f.breakLine):""},v=function(e,t){var n=e.grouping,r=t.show,u=t.func;return(!n||!u)&&(void 0===r||Boolean(r))},b=function(e,t,n){var r=t[0].toUpperCase().concat(t.substring(1,t.length));return n?n+"("+e+"."+t+") AS "+n.toLowerCase()+r:e+"."+t},E=function(e,t,n){var r=t[0].toUpperCase().concat(t.substring(1,t.length));if(n){var u=e[0].toUpperCase().concat(e.substring(1,e.length));return n+"("+e+"."+t+") AS "+n.toLowerCase()+u+r}return e+"."+t+" AS "+e+r},m=function(e){var t=e.select;return t?t.filter(v.bind(void 0,e)).map(function(t){var n=e.table,r=e.grouping,u=t.field,a=t.func,i=t.table||n;return r?i+"."+u:i===n?b(i,u,a):E(i,u,a)}):[]},h=function(e){var t=e.table,n=e.select,r=e.count,u=e.distinct;u&&r&&(u=!1);var a=m({select:n,table:t}).join(", ");return r?"COUNT(-1) AS _counter"+(a?", ".concat(a):""):u?"DISTINCT "+a:a},_=function(e){var t=e.select,n=e.table,r=e.count;if(!t)return"";var u=!0,a=m({select:t,table:n,grouping:u}).join(", "),i=Boolean(t&&t.find(function(e){var t=e.func;return Boolean(t)})),o=(r||i)&&a;return o?"GROUP BY "+a:""};t["default"]=function(e){var t=h(e),n=s(e),r=p(e),u=(0,o["default"])(e),i=c(e),f=_(e);return l((0,a["default"])({selectFields:t,conditional:u,limitRows:i,orderFields:n,joinTables:r,groupFields:f},e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),u=function(e,t,n){var u=o({where:e,select:t,table:n}).join(")"+r.breakLine+"    OR (");return u?"("+u+")":""},a=function(e,t,n){var u=o({where:e,select:t,table:n}).join(")"+r.breakLine+"   AND (");return u?"("+u+")":""},i=function(e){var t=e.select,n=e.field,u=e.tableName,a=e.fieldsTypes,i=(t||[]).find(function(e){return e.field===n&&e.table===u});return i?(0,r.fieldIsString)(t,n):a?(0,r.columnIsString)(a[u+"."+n]):void 0},o=function(e){var t=e.table,n=e.where,r=e.select,o=e.fieldsTypes,f=t;return n.map(function(e){var t=e.table,n=e.field,l=e.comparator,c=e.value,d=e.or,s=e.and,p=t||f;if(d)return u(d,r,p);if(s)return a(s,r,p);var v=i({select:r,field:n,tableName:p,fieldsTypes:o}),b=v?"'"+String(c).replace("'","\\'").replace('"','\\"')+"'":c;return p+"."+n+" "+l+" "+b})};t["default"]=function(e){if(!e.where)return"";var t=o(e).join(")"+r.breakLine+"  AND (");return t?"WHERE ("+t+")":""}},function(e,t){e.exports=require("babel-runtime/core-js/object/keys")},function(e,t){e.exports=require("babel-runtime/core-js/promise")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(4),a=r(u),i=n(2),o=r(i),f=n(3),l=r(f),c=n(5),d=r(c),s=n(7),p=r(s),v=n(1);t["default"]=function(){var e=(0,l["default"])(a["default"].mark(function t(e,n,r){var u,i,f;return a["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=(0,v.condToWhereList)(r),i=(0,v.objToListFields)(e),f=(0,p["default"])((0,o["default"])({},e,{select:i,where:u})),{NODE_ENV:"production"}.PG_DEBUG!==!0&&"FIND"!=={NODE_ENV:"production"}.PG_DEBUG||console.log(f),t.abrupt("return",(0,d["default"])(e,n,f));case 5:case"end":return t.stop()}},t,void 0)}));return function(t,n,r){return e.apply(this,arguments)}}()},function(e,t){e.exports=require("babel-runtime/helpers/extends")},function(e,t){e.exports=require("babel-runtime/helpers/typeof")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(2),a=r(u),i=n(12),o=r(i),f=n(18),l=r(f),c=n(17),d=r(c),s=n(11),p=r(s),v=n(15),b=r(v),E=n(1),m=n(16),h=function(e,t,n){return t.joins.push(n),e},_=function(e,t,n){return t.select.push(n),e},y=function(e,t){var n={create:m.insertRow.bind(void 0,e,t),findById:l["default"].bind(void 0,e,t),deleteById:d["default"].bind(void 0,e,t),updateById:m.updateRowById.bind(void 0,e,t),findByQuery:p["default"].bind(void 0,e,t),countByQuery:b["default"].bind(void 0,e,t)};return n.join=h.bind(void 0,n,e),n.addSelect=_.bind(void 0,n,e),n},w=function(e,t){var n=(0,o["default"])({},e);return n.joins||(n.joins=[]),n.select||(n.select=[]),y(n,t)};t["default"]=function(e){var t=(0,E.getFieldsTypes)(e),n=(0,a["default"])({fieldsTypes:t},e);return w.bind(void 0,n)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(4),a=r(u),i=n(2),o=r(i),f=n(3),l=r(f),c=n(5),d=r(c),s=n(7),p=r(s),v=n(1);t["default"]=function(){var e=(0,l["default"])(a["default"].mark(function t(e,n,r){var u,i,f,l,c;return a["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=(0,v.condToWhereList)(r),i=(0,o["default"])({},e,{where:u,count:!0}),f=(0,p["default"])(i),{NODE_ENV:"production"}.PG_DEBUG!==!0&&"COUNT"!=={NODE_ENV:"production"}.PG_DEBUG||console.log(f),t.next=6,(0,d["default"])(i,n,f);case 6:if(l=t.sent,c=l.pop()){t.next=10;break}return t.abrupt("return",0);case 10:return t.abrupt("return",c._counter||0);case 11:case"end":return t.stop()}},t,void 0)}));return function(t,n,r){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateRowById=t.insertRow=void 0;var u=n(12),a=r(u),i=n(4),o=r(i),f=n(9),l=r(f),c=n(10),d=r(c),s=n(3),p=r(s),v=n(22),b=r(v),E=n(2),m=r(E),h=n(5),_=r(h),y=n(20),w=r(y),x=n(21),g=r(x),R=n(11),T=r(R),N=n(6),O=r(N),L=O["default"].PRIMARY,M=function(e,t,n,r){return e?V(t,n,e,r):U(t,n,r)},P=function(e,t,n,r){var u=r.id,a=e.field,i=e.schema,o=(0,m["default"])({},r,(0,b["default"])({},a,n.id));return M(u,i,t,o)},A=function(){var e=(0,p["default"])(o["default"].mark(function t(e){var n,r,u=e.schema,a=e.connection,i=e.data,f=e.rowParent;return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.hasMany,r={},n){e.next=4;break}return e.abrupt("return",r);case 4:return e.next=6,d["default"].all((0,l["default"])(n).map(function(){var e=(0,p["default"])(o["default"].mark(function t(e){var u,l,c;return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=i[e]||[],l=n[e],c=P.bind(void 0,l,a,f),t.next=5,d["default"].all(u.map(c));case 5:r[e]=t.sent;case 6:case"end":return t.stop()}},t,void 0)}));return function(t){return e.apply(this,arguments)}}()));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},t,void 0)}));return function(t){return e.apply(this,arguments)}}(),I=function(e){var t=e.extraFields,n=e.schema,r=e.row,u={};return(0,l["default"])(t).forEach(function(e){u[e]=r[e],delete r[e],delete n.fields[e]}),u},j=function(e){var t,n=e.extraFields,r=e.parent,u=e.table,a=e.reference;return{table:u,fields:(0,m["default"])((t={id:L},(0,b["default"])(t,r,L),(0,b["default"])(t,a,L),t),n)}},k=function(e,t,n){var r,u=e.parent,a=e.reference;return r={},(0,b["default"])(r,u,"eq:"+t.id),(0,b["default"])(r,a,"eq:"+n.id),r},D=function(e,t,n,r,u){var a,i=e.parent,o=e.reference;return(0,m["default"])((a={id:n},(0,b["default"])(a,i,r.id),(0,b["default"])(a,o,u.id),a),t)},C=function(){var e=(0,p["default"])(o["default"].mark(function t(e,n,r,u){var a,i,f,l,c;return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=j(e),i=k(e,r,u),t.next=4,(0,T["default"])(a,n,i);case 4:return f=t.sent,l=f.pop(),c=l?l.id:void 0,t.abrupt("return",{manySchema:a,manyId:c});case 8:case"end":return t.stop()}},t,void 0)}));return function(t,n,r,u){return e.apply(this,arguments)}}(),F=function(e){var t=(0,a["default"])({},e.fields);return(0,m["default"])({},e,{fields:t})},S=function(){var e=(0,p["default"])(o["default"].mark(function t(e,n,r,u){var a,i,f,l,c,d,s,p,v;return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=u.id,i=e.extraFields,f=F(e.schema),l=I({extraFields:i,schema:f,row:u}),t.next=6,M(a,f,n,u);case 6:return c=t.sent,t.next=9,C(e,n,r,c);case 9:return d=t.sent,s=d.manySchema,p=d.manyId,v=D(e,l,p,r,c),t.next=15,M(p,s,n,v);case 15:return t.abrupt("return",(0,m["default"])({},c,l));case 16:case"end":return t.stop()}},t,void 0)}));return function(t,n,r,u){return e.apply(this,arguments)}}(),G=function(){var e=(0,p["default"])(o["default"].mark(function t(e){var n,r,u=e.schema,a=e.connection,i=e.data,f=e.rowParent;return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.manyToMany,r={},n){e.next=4;break}return e.abrupt("return",r);case 4:return e.next=6,d["default"].all((0,l["default"])(n).map(function(){var e=(0,p["default"])(o["default"].mark(function t(e){var u,l,c;return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=i[e]||[],l=n[e],c=S.bind(void 0,l,a,f),t.next=5,d["default"].all(u.map(c));case 5:r[e]=t.sent;case 6:case"end":return t.stop()}},t,void 0)}));return function(t){return e.apply(this,arguments)}}()));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},t,void 0)}));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=(0,p["default"])(o["default"].mark(function t(e){var n,r;return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(e);case 2:return n=t.sent,t.next=5,G(e);case 5:return r=t.sent,t.abrupt("return",(0,m["default"])({},n,r));case 7:case"end":return t.stop()}},t,void 0)}));return function(t){return e.apply(this,arguments)}}(),U=t.insertRow=function(){var e=(0,p["default"])(o["default"].mark(function t(e,n,r){var u,i,f,l,c;return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=(0,a["default"])({},r),i=(0,w["default"])((0,m["default"])({},e,{data:u})),{NODE_ENV:"production"}.PG_DEBUG!==!0&&"CREATE"!=={NODE_ENV:"production"}.PG_DEBUG||console.log(i),t.next=5,(0,_["default"])(e,n,i);case 5:return f=t.sent,l=f.pop(),t.next=9,B({schema:e,connection:n,data:u,rowParent:l});case 9:return c=t.sent,t.abrupt("return",(0,m["default"])(l,c));case 11:case"end":return t.stop()}},t,void 0)}));return function(t,n,r){return e.apply(this,arguments)}}(),V=t.updateRowById=function(){var e=(0,p["default"])(o["default"].mark(function t(e,n,r,u){var a,i,f,l,c;return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=[{field:"id",comparator:"=",value:r}],i=(0,g["default"])((0,m["default"])({},e,{data:u,where:a})),{NODE_ENV:"production"}.PG_DEBUG!==!0&&"UPDATE"!=={NODE_ENV:"production"}.PG_DEBUG||console.log(i),t.next=5,(0,_["default"])(e,n,i);case 5:return f=t.sent,l=f.pop(),t.next=9,B({schema:e,connection:n,data:u,rowParent:l});case 9:return c=t.sent,t.abrupt("return",(0,m["default"])(l,c));case 11:case"end":return t.stop()}},t,void 0)}));return function(t,n,r,u){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(4),a=r(u),i=n(2),o=r(i),f=n(3),l=r(f),c=n(5),d=r(c),s=n(19),p=r(s);t["default"]=function(){var e=(0,l["default"])(a["default"].mark(function t(e,n,r){var u,i;return a["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=[{field:"id",comparator:"=",value:r}],i=(0,p["default"])((0,o["default"])({},e,{where:u})),{NODE_ENV:"production"}.PG_DEBUG!==!0&&"DELETE"!=={NODE_ENV:"production"}.PG_DEBUG||console.log(i),t.abrupt("return",(0,d["default"])(e,n,i));case 4:case"end":return t.stop()}},t,void 0)}));return function(t,n,r){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(4),a=r(u),i=n(2),o=r(i),f=n(3),l=r(f),c=n(5),d=r(c),s=n(7),p=r(s),v=n(1);t["default"]=function(){var e=(0,l["default"])(a["default"].mark(function t(e,n,r){var u,i,f,l;return a["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=(0,v.objToListFields)(e),i=[{field:"id",comparator:"=",value:r}],f=(0,p["default"])((0,o["default"])({},e,{select:u,where:i})),{NODE_ENV:"production"}.PG_DEBUG!==!0&&"FIND"!=={NODE_ENV:"production"}.PG_DEBUG||console.log(f),t.next=6,(0,d["default"])(e,n,f);case 6:return l=t.sent,t.abrupt("return",l.pop());case 8:case"end":return t.stop()}},t,void 0)}));return function(t,n,r){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(2),a=r(u),i=n(8),o=r(i),f=n(1),l=function(e){var t=e.table,n=e.conditional;return("\nDELETE FROM "+t+"\n"+n+";\n").trim()};t["default"]=function(e){var t=e.table,n=e.fields,r=(0,a["default"])({},e,{select:(0,f.objToListFields)({fields:n})}),u=(0,o["default"])(r);return l({table:t,conditional:u})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),u=function(e){var t=e.fields,n=e.data,u=(0,r.getListFields)({fields:t,data:n}),a=u.map(function(e){var u=n[e];if(null===u)return"null";var a=(0,r.columnIsString)(t[e]);return a?(0,r.forceString)(u):u});return{listFields:u.join(", "),listValues:a.join(", ")}},a=function(e){var t=e.table,n=e.listFields,r=e.listValues,u=e.listReturning;return("\nINSERT INTO "+t+" ("+n+")\n       VALUES ("+r+")\n       RETURNING "+u+";\n").trim()};t["default"]=function(e){var t=e.table,n=e.fields,i=e.data,o=(0,r.getListReturning)({fields:n}),f=u({fields:n,data:i,listFields:c}),l=f.listValues,c=f.listFields;return a({table:t,listFields:c,listValues:l,listReturning:o})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(2),a=r(u),i=n(8),o=r(i),f=n(1),l=function(e){var t=e.fields,n=e.data,r=(0,f.getListFields)({fields:t,data:n});return r.map(function(e){var r=n[e];return null===r&&(r="null"),null!==n[e]&&(0,f.columnIsString)(t[e])&&(r=(0,f.forceString)(r)),e+" = "+r}).join(","+f.breakLine+"      ")},c=function(e){var t=e.table,n=e.setters,r=e.conditional,u=e.listReturning;return("\nUPDATE "+t+"\n  SET "+n+"\n  "+r+"\n  RETURNING "+u+";\n").trim()};t["default"]=function(e){var t=(0,f.objToListFields)(e),n=l(e),r=(0,f.getListReturning)(e),u=(0,o["default"])((0,a["default"])({select:t},e));return c((0,a["default"])({setters:n,conditional:u,listReturning:r},e))}},function(e,t){e.exports=require("babel-runtime/helpers/defineProperty")},function(e,t){e.exports=require("pg")}]);
//# sourceMappingURL=q-postgres.min.js.map