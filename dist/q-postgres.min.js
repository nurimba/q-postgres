module.exports=function(e){function t(n){if(r[n])return r[n].exports;var u=r[n]={exports:{},id:n,loaded:!1};return e[n].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.pool=t.types=t.orm=void 0;var u=r(10),a=n(u),i=r(4),o=n(i),f=r(3),l=n(f),c=r(23),d=r(14),s=n(d),p=r(6),v=n(p),b=(t.orm=s["default"],t.types=v["default"],"BEGIN"),m="COMMIT",h="ROLLBACK",y=function(){var e=(0,l["default"])(o["default"].mark(function t(e){var r,n;return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.connect();case 2:if(r=t.sent,n=r.errno,!n){t.next=6;break}throw new Error(r.message);case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}},t,void 0)}));return function(t){return e.apply(this,arguments)}}(),w=function(e,t){return new a["default"](function(r,n){e.query(t,function(e,t){return e?n(e):void r(t)})})},x=function(){var e=(0,l["default"])(o["default"].mark(function t(e){var r,n;return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e);case 2:return r=t.sent,n={release:function(){var e=(0,l["default"])(o["default"].mark(function t(){return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.release());case 1:case"end":return e.stop()}},t,void 0)}));return function(){return e.apply(this,arguments)}}(),execute:w.bind(void 0,r),commit:function(){var e=(0,l["default"])(o["default"].mark(function t(){return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(r,m);case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}},t,void 0)}));return function(){return e.apply(this,arguments)}}(),rollback:function(){var e=(0,l["default"])(o["default"].mark(function t(){return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(r,h);case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}},t,void 0)}));return function(){return e.apply(this,arguments)}}(),startTransaction:function(){var e=(0,l["default"])(o["default"].mark(function t(){return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(r,b);case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}},t,void 0)}));return function(){return e.apply(this,arguments)}}()},t.abrupt("return",n);case 5:case"end":return t.stop()}},t,void 0)}));return function(t){return e.apply(this,arguments)}}();t.pool=function E(e){var E=new c.Pool(e),t=x.bind(void 0,E);return{connect:t}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.condToWhereList=t.objToListFields=t.getFieldsTypes=t.fieldIsString=t.forceString=t.getListFields=t.getListReturning=t.columnIsString=t.stringTypes=t.blankLine=t.breakLine=void 0;var u=r(13),a=n(u),i=r(9),o=n(i),f=r(6),l=n(f),c=l["default"].TEXT,d=l["default"].DATE,s=l["default"].NAME,p=l["default"].CHAR1,v=l["default"].CHAR2,b=l["default"].CHAR8,m=l["default"].EMAIL,h=l["default"].PHONE,y=l["default"].STRING,w=l["default"].SELECT,x=l["default"].CPFCNPJ,E=l["default"].DATETIME,R=l["default"].REFERENCES,g=t.breakLine="\n",T=(t.blankLine=""+g+g,t.stringTypes=[c,s,d,p,v,b,m,h,y,w,x,E]),_=(t.columnIsString=function(e){var t=_(e);return T.indexOf(t)>-1},t.getListReturning=function(e){var t=e.fields;return(0,o["default"])(t).join(", ")},t.getListFields=function(e){var t=e.fields,r=e.data;return(0,o["default"])(t).filter(function(e){return r.hasOwnProperty(e)&&void 0!==r[e]})},t.forceString=function(e){return"'"+String(e).replace("'","\\'").replace('"','\\"')+"'"},t.fieldIsString=function(e,t){return Boolean(e&&e.find(function(e){var r=e.field,n=e.type;return t===r&&T.indexOf(n)>-1}))},function(e){return"object"===("undefined"==typeof e?"undefined":(0,a["default"])(e))?e.type:e}),L=function(e,t){e&&(0,o["default"])(e).forEach(function(r){return j(e[r].schema,t)})},M=function(e,t){e&&(0,o["default"])(e).forEach(function(r){var n=e[r],u=n.table,a=n.extraFields,i=n.schema;j(i,t),j({table:u,fields:a},t)})},j=t.getFieldsTypes=function F(e,t){t||(t={_tables:{}});var r=e.table,n=e.fields,u=e.hasMany,a=e.manyToMany;return t._tables.hasOwnProperty(r)?{}:(t._tables[r]=null,(0,o["default"])(n).forEach(function(e){var u=_(n[e]);t[r+"."+e]=u,u===R&&F(n[e].schema,t)}),L(u,t),M(a,t),t)},A=function(e,t,r){return!e.find(function(e){var n=e.field,u=e.table;return n===r&&u===t})},k=(t.objToListFields=function(e){var t=e.table,r=e.fields,n=e.select,u=(n||[]).map(function(e){return e.table||e.table===t,e}),a=A.bind(void 0,u,t);return u.concat((0,o["default"])(r).filter(a).map(function(e){var n=_(r[e]);return{type:n,field:e,table:t}}))},{eq:"=",lt:"<",gt:">",lq:"<=",gq:">=",df:"<>",lk:"like"}),I=function(e,t){var r=e[t],n=void 0,u=r.split(":");if(2===u.length){var a=String(u[0]).toLowerCase().trim();k.hasOwnProperty(a)&&(r=String(u[1]).trim(),n=k[a],"like"===n&&(r="%"+r+"%"))}return n||(n="="),{value:r,comparator:n}},O=function(e){var t=void 0,r=e,n=e.split(".");return 2===n.length&&(t=String(n[0]).trim(),r=String(n[1]).trim()),{field:r,table:t}};t.condToWhereList=function(e,t){t||(t=[]);var r=I.bind(void 0,e);return(0,o["default"])(e).forEach(function(e){var n=O(e),u=n.field,a=n.table,i=r(e),o=i.value,f=i.comparator;t.push({field:u,comparator:f,value:o,table:a})}),t}},function(e,t){e.exports=require("babel-runtime/core-js/object/assign")},function(e,t){e.exports=require("babel-runtime/helpers/asyncToGenerator")},function(e,t){e.exports=require("babel-runtime/regenerator")},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=r(10),a=n(u),i=r(4),o=n(i),f=r(9),l=n(f),c=r(3),d=n(c),s=r(13),p=n(s),v=r(6),b=n(v),m=b["default"].DATE,h=b["default"].BOOLEAN,y=function(e){return"object"===("undefined"==typeof e?"undefined":(0,p["default"])(e))?e.type:e},w=function(e){var t=new Date(e),r=("0"+t.getDate()).substr(-2),n=("0"+(t.getMonth()+1)).substr(-2);return t.getFullYear()+"-"+n+"-"+r},x=function(){var e=(0,d["default"])(o["default"].mark(function t(e,r){var n,u=e.fields,a=e.count;return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},!a){e.next=5;break}if(n._counter=parseInt(r._counter||0,10),1!==(0,l["default"])(r).length){e.next=5;break}return e.abrupt("return",n);case 5:return(0,l["default"])(u).forEach(function(e){var t=r[e]||r[e.toLowerCase()];n[e]=t;var a=y(u[e]);a===h&&(n[e]=Boolean(t)),null!==t&&void 0!==t&&a===m&&(n[e]=w(t))}),e.abrupt("return",n);case 7:case"end":return e.stop()}},t,void 0)}));return function(t,r){return e.apply(this,arguments)}}();t["default"]=function(){var e=(0,d["default"])(o["default"].mark(function t(e,r,n){var u,i,f=r.execute;return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(n);case 2:return u=t.sent,i=u.rows,t.abrupt("return",a["default"].all(i.map(x.bind(void 0,e))));case 5:case"end":return t.stop()}},t,void 0)}));return function(t,r,n){return e.apply(this,arguments)}}()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="TEXT",n="VARCHAR(255)",u="DATE",a="CHAR(1)",i="CHAR(2)",o="CHAR(8)",f="VARCHAR(50)",l="VARCHAR(30)",c="NUMERIC(15,2)",d="VARCHAR(255)",s="VARCHAR(25)",p="BOOLEAN",v="INTEGER",b="VARCHAR(14)",m="NUMERIC(15,8)",h="SERIAL NOT NULL",y="TIMESTAMP",w="REFERENCES";t["default"]={TEXT:r,DATE:u,NAME:n,CHAR1:a,CHAR2:i,CHAR8:o,EMAIL:f,PHONE:l,MONEY:c,STRING:d,SELECT:s,BOOLEAN:p,INTEGER:v,CPFCNPJ:b,PERCENT:m,PRIMARY:h,DATETIME:y,REFERENCES:w}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=r(2),a=n(u),i=r(8),o=n(i),f=r(1),l=function(e){for(var t=e.table,r=e.selectFields,n=e.conditional,u=e.limitRows,a=e.orderFields,i=e.joinTables,o=e.groupFields,l="\nSELECT "+r+"\nFROM "+t+"\n"+i+"\n"+n+"\n"+o+"\n"+a+"\n"+u+"\n";l.indexOf(f.blankLine)!==-1;)l=l.replace(f.blankLine,f.breakLine);return l.trim()},c=function(e){var t=e.limit,r=e.page;if(!t)return"";if(!r)return"LIMIT "+t;var n=(r-1)*t;return n?"LIMIT "+t+" OFFSET "+n:"LIMIT "+t},d=function(e,t,r,n){var u=n.field,a=n.order,i=n.table||t,o=e?e.find(function(e){var r=e.table||t;return e.field===u&&r===i}):void 0;if(!o)return(i+"."+u+" "+(a||"")).trim();var f=e.indexOf(o)+1;return r&&f++,(f+" "+(a||"")).trim()},s=function(e){var t=e.table,r=e.select,n=e.orderBy,u=e.count;if(!r)return"";if(!n)return"";var a=d.bind(void 0,r,t,u),i=n.map(a).join(", ");return i?"ORDER BY "+i:""},p=function(e){var t=e.joins;return t?t.map(function(e){var t="string"==typeof e;if(t)return e;var r=e.tableRef,n=e.fieldRef,u=e.tableLink,a=e.fieldLink;return"JOIN "+r+" ON ("+r+"."+n+" = "+u+"."+a+")"}).join(f.breakLine):""},v=function(e,t){var r=e.grouping,n=t.show,u=t.func;return(!r||!u)&&(void 0===n||Boolean(n))},b=function(e,t,r){var n=t[0].toUpperCase().concat(t.substring(1,t.length));return r?r+"("+e+"."+t+") AS "+r.toLowerCase()+n:e+"."+t},m=function(e,t,r){var n=t[0].toUpperCase().concat(t.substring(1,t.length));if(r){var u=e[0].toUpperCase().concat(e.substring(1,e.length));return r+"("+e+"."+t+") AS "+r.toLowerCase()+u+n}return e+"."+t+" AS "+e+n},h=function(e){var t=e.select;return t?t.filter(v.bind(void 0,e)).map(function(t){var r=e.table,n=e.grouping,u=t.field,a=t.func,i=t.table||r;return n?i+"."+u:i===r?b(i,u,a):m(i,u,a)}):[]},y=function(e){var t=e.table,r=e.select,n=e.count,u=e.distinct;u&&n&&(u=!1);var a=h({select:r,table:t}).join(", ");return n?"COUNT(-1) AS _counter"+(a?", ".concat(a):""):u?"DISTINCT "+a:a},w=function(e){var t=e.select,r=e.table,n=e.count;if(!t)return"";var u=!0,a=h({select:t,table:r,grouping:u}).join(", "),i=Boolean(t&&t.find(function(e){var t=e.func;return Boolean(t)})),o=(n||i)&&a;return o?"GROUP BY "+a:""};t["default"]=function(e){var t=y(e),r=s(e),n=p(e),u=(0,o["default"])(e),i=c(e),f=w(e);return l((0,a["default"])({selectFields:t,conditional:u,limitRows:i,orderFields:r,joinTables:n,groupFields:f},e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),u=function(e,t,r){var u=o({where:e,select:t,table:r}).join(")"+n.breakLine+"    OR (");return u?"("+u+")":""},a=function(e,t,r){var u=o({where:e,select:t,table:r}).join(")"+n.breakLine+"   AND (");return u?"("+u+")":""},i=function(e){var t=e.select,r=e.field,u=e.tableName,a=e.fieldsTypes,i=(t||[]).find(function(e){return e.field===r&&e.table===u});return i?(0,n.fieldIsString)(t,r):a?(0,n.columnIsString)(a[u+"."+r]):void 0},o=function(e){var t=e.table,r=e.where,n=e.select,o=e.fieldsTypes,f=t;return r.map(function(e){var t=e.table,r=e.field,l=e.comparator,c=e.value,d=e.or,s=e.and,p=t||f;if(d)return u(d,n,p);if(s)return a(s,n,p);var v=i({select:n,field:r,tableName:p,fieldsTypes:o}),b=v?"'"+String(c).replace("'","\\'").replace('"','\\"')+"'":c;return p+"."+r+" "+l+" "+b})};t["default"]=function(e){if(!e.where)return"";var t=o(e).join(")"+n.breakLine+"  AND (");return t?"WHERE ("+t+")":""}},function(e,t){e.exports=require("babel-runtime/core-js/object/keys")},function(e,t){e.exports=require("babel-runtime/core-js/promise")},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),a=n(u),i=r(2),o=n(i),f=r(3),l=n(f),c=r(5),d=n(c),s=r(7),p=n(s),v=r(1);t["default"]=function(){var e=(0,l["default"])(a["default"].mark(function t(e,r,n){var u,i,f;return a["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=(0,v.condToWhereList)(n),i=(0,v.objToListFields)(e),f=(0,p["default"])((0,o["default"])({},e,{select:i,where:u})),t.abrupt("return",(0,d["default"])(e,r,f));case 4:case"end":return t.stop()}},t,void 0)}));return function(t,r,n){return e.apply(this,arguments)}}()},function(e,t){e.exports=require("babel-runtime/helpers/extends")},function(e,t){e.exports=require("babel-runtime/helpers/typeof")},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=r(2),a=n(u),i=r(12),o=n(i),f=r(18),l=n(f),c=r(17),d=n(c),s=r(11),p=n(s),v=r(15),b=n(v),m=r(1),h=r(16),y=function(e,t,r){return t.joins.push(r),e},w=function(e,t,r){return t.select.push(r),e},x=function(e,t){var r={create:h.insertRow.bind(void 0,e,t),findById:l["default"].bind(void 0,e,t),deleteById:d["default"].bind(void 0,e,t),updateById:h.updateRowById.bind(void 0,e,t),findByQuery:p["default"].bind(void 0,e,t),countByQuery:b["default"].bind(void 0,e,t)};return r.join=y.bind(void 0,r,e),r.addSelect=w.bind(void 0,r,e),r},E=function(e,t){var r=(0,o["default"])({},e);return r.joins||(r.joins=[]),r.select||(r.select=[]),x(r,t)};t["default"]=function(e){var t=(0,m.getFieldsTypes)(e),r=(0,a["default"])({fieldsTypes:t},e);return E.bind(void 0,r)}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),a=n(u),i=r(2),o=n(i),f=r(3),l=n(f),c=r(5),d=n(c),s=r(7),p=n(s),v=r(1);t["default"]=function(){var e=(0,l["default"])(a["default"].mark(function t(e,r,n){var u,i,f,l,c,s;return a["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=(0,v.condToWhereList)(n),i=(0,v.objToListFields)(e).map(function(e){return e.show=!1,e}),f=(0,o["default"])({},e,{select:i,where:u,count:!0}),l=(0,p["default"])(f),t.next=6,(0,d["default"])(f,r,l);case 6:if(c=t.sent,s=c.pop()){t.next=10;break}return t.abrupt("return",0);case 10:return t.abrupt("return",s._counter||0);case 11:case"end":return t.stop()}},t,void 0)}));return function(t,r,n){return e.apply(this,arguments)}}()},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateRowById=t.insertRow=void 0;var u=r(12),a=n(u),i=r(4),o=n(i),f=r(9),l=n(f),c=r(10),d=n(c),s=r(3),p=n(s),v=r(22),b=n(v),m=r(2),h=n(m),y=r(5),w=n(y),x=r(20),E=n(x),R=r(21),g=n(R),T=r(11),_=n(T),L=r(6),M=n(L),j=M["default"].PRIMARY,A=function(e,t,r,n){return e?U(t,r,e,n):D(t,r,n)},k=function(e,t,r,n){var u=n.id,a=e.field,i=e.schema,o=(0,h["default"])({},n,(0,b["default"])({},a,r.id));return A(u,i,t,o)},I=function(){var e=(0,p["default"])(o["default"].mark(function t(e){var r,n,u=e.schema,a=e.connection,i=e.data,f=e.rowParent;return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.hasMany,n={},r){e.next=4;break}return e.abrupt("return",n);case 4:return e.next=6,d["default"].all((0,l["default"])(r).map(function(){var e=(0,p["default"])(o["default"].mark(function t(e){var u,l,c;return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=i[e]||[],l=r[e],c=k.bind(void 0,l,a,f),t.next=5,d["default"].all(u.map(c));case 5:n[e]=t.sent;case 6:case"end":return t.stop()}},t,void 0)}));return function(t){return e.apply(this,arguments)}}()));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},t,void 0)}));return function(t){return e.apply(this,arguments)}}(),O=function(e){var t=e.extraFields,r=e.schema,n=e.row,u={};return(0,l["default"])(t).forEach(function(e){u[e]=n[e],delete n[e],delete r.fields[e]}),u},F=function(e){var t,r=e.extraFields,n=e.parent,u=e.table,a=e.reference;return{table:u,fields:(0,h["default"])((t={id:j},(0,b["default"])(t,n,j),(0,b["default"])(t,a,j),t),r)}},S=function(e,t,r){var n,u=e.parent,a=e.reference;return n={},(0,b["default"])(n,u,"eq:"+t.id),(0,b["default"])(n,a,"eq:"+r.id),n},C=function(e,t,r,n,u){var a,i=e.parent,o=e.reference;return(0,h["default"])((a={id:r},(0,b["default"])(a,i,n.id),(0,b["default"])(a,o,u.id),a),t)},N=function(){var e=(0,p["default"])(o["default"].mark(function t(e,r,n,u){var a,i,f,l,c;return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=F(e),i=S(e,n,u),t.next=4,(0,_["default"])(a,r,i);case 4:return f=t.sent,l=f.pop(),c=l?l.id:void 0,t.abrupt("return",{manySchema:a,manyId:c});case 8:case"end":return t.stop()}},t,void 0)}));return function(t,r,n,u){return e.apply(this,arguments)}}(),P=function(e){var t=(0,a["default"])({},e.fields);return(0,h["default"])({},e,{fields:t})},B=function(){var e=(0,p["default"])(o["default"].mark(function t(e,r,n,u){var a,i,f,l,c,d,s,p,v;return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=u.id,i=e.extraFields,f=P(e.schema),l=O({extraFields:i,schema:f,row:u}),t.next=6,A(a,f,r,u);case 6:return c=t.sent,t.next=9,N(e,r,n,c);case 9:return d=t.sent,s=d.manySchema,p=d.manyId,v=C(e,l,p,n,c),t.next=15,A(p,s,r,v);case 15:return t.abrupt("return",(0,h["default"])({},c,l));case 16:case"end":return t.stop()}},t,void 0)}));return function(t,r,n,u){return e.apply(this,arguments)}}(),H=function(){var e=(0,p["default"])(o["default"].mark(function t(e){var r,n,u=e.schema,a=e.connection,i=e.data,f=e.rowParent;return o["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.manyToMany,n={},r){e.next=4;break}return e.abrupt("return",n);case 4:return e.next=6,d["default"].all((0,l["default"])(r).map(function(){var e=(0,p["default"])(o["default"].mark(function t(e){var u,l,c;return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=i[e]||[],l=r[e],c=B.bind(void 0,l,a,f),t.next=5,d["default"].all(u.map(c));case 5:n[e]=t.sent;case 6:case"end":return t.stop()}},t,void 0)}));return function(t){return e.apply(this,arguments)}}()));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},t,void 0)}));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=(0,p["default"])(o["default"].mark(function t(e){var r,n;return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(e);case 2:return r=t.sent,t.next=5,H(e);case 5:return n=t.sent,t.abrupt("return",(0,h["default"])({},r,n));case 7:case"end":return t.stop()}},t,void 0)}));return function(t){return e.apply(this,arguments)}}(),D=t.insertRow=function(){var e=(0,p["default"])(o["default"].mark(function t(e,r,n){var u,i,f,l,c;return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=(0,a["default"])({},n),i=(0,E["default"])((0,h["default"])({},e,{data:u})),t.next=4,(0,w["default"])(e,r,i);case 4:return f=t.sent,l=f.pop(),t.next=8,q({schema:e,connection:r,data:u,rowParent:l});case 8:return c=t.sent,t.abrupt("return",(0,h["default"])(l,c));case 10:case"end":return t.stop()}},t,void 0)}));return function(t,r,n){return e.apply(this,arguments)}}(),U=t.updateRowById=function(){var e=(0,p["default"])(o["default"].mark(function t(e,r,n,u){var a,i,f,l,c;return o["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=[{field:"id",comparator:"=",value:n}],i=(0,g["default"])((0,h["default"])({},e,{data:u,where:a})),t.next=4,(0,w["default"])(e,r,i);case 4:return f=t.sent,l=f.pop(),t.next=8,q({schema:e,connection:r,data:u,rowParent:l});case 8:return c=t.sent,t.abrupt("return",(0,h["default"])(l,c));case 10:case"end":return t.stop()}},t,void 0)}));return function(t,r,n,u){return e.apply(this,arguments)}}()},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),a=n(u),i=r(2),o=n(i),f=r(3),l=n(f),c=r(5),d=n(c),s=r(19),p=n(s);t["default"]=function(){var e=(0,l["default"])(a["default"].mark(function t(e,r,n){var u,i;return a["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=[{field:"id",comparator:"=",value:n}],i=(0,p["default"])((0,o["default"])({},e,{where:u})),t.abrupt("return",(0,d["default"])(e,r,i));case 3:case"end":return t.stop()}},t,void 0)}));return function(t,r,n){return e.apply(this,arguments)}}()},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),a=n(u),i=r(2),o=n(i),f=r(3),l=n(f),c=r(5),d=n(c),s=r(7),p=n(s),v=r(1);t["default"]=function(){var e=(0,l["default"])(a["default"].mark(function t(e,r,n){var u,i,f,l;return a["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=(0,v.objToListFields)(e),i=[{field:"id",comparator:"=",value:n}],f=(0,p["default"])((0,o["default"])({},e,{select:u,where:i})),t.next=5,(0,d["default"])(e,r,f);case 5:return l=t.sent,t.abrupt("return",l.pop());case 7:case"end":return t.stop()}},t,void 0)}));return function(t,r,n){return e.apply(this,arguments)}}()},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=r(2),a=n(u),i=r(8),o=n(i),f=r(1),l=function(e){var t=e.table,r=e.conditional;return("\nDELETE FROM "+t+"\n"+r+";\n").trim()};t["default"]=function(e){var t=e.table,r=e.fields,n=(0,a["default"])({},e,{select:(0,f.objToListFields)({fields:r})}),u=(0,o["default"])(n);return l({table:t,conditional:u})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),u=function(e){var t=e.fields,r=e.data,u=(0,n.getListFields)({fields:t,data:r}),a=u.map(function(e){var u=r[e];if(null===u)return"null";var a=(0,n.columnIsString)(t[e]);return a?(0,n.forceString)(u):u});return{listFields:u.join(", "),listValues:a.join(", ")}},a=function(e){var t=e.table,r=e.listFields,n=e.listValues,u=e.listReturning;return("\nINSERT INTO "+t+" ("+r+")\n       VALUES ("+n+")\n       RETURNING "+u+";\n").trim()};t["default"]=function(e){var t=e.table,r=e.fields,i=e.data,o=(0,n.getListReturning)({fields:r}),f=u({fields:r,data:i,listFields:c}),l=f.listValues,c=f.listFields;return a({table:t,listFields:c,listValues:l,listReturning:o})}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=r(2),a=n(u),i=r(8),o=n(i),f=r(1),l=function(e){var t=e.fields,r=e.data,n=(0,f.getListFields)({fields:t,data:r});return n.map(function(e){var n=r[e];return null===n&&(n="null"),null!==r[e]&&(0,f.columnIsString)(t[e])&&(n=(0,f.forceString)(n)),e+" = "+n}).join(","+f.breakLine+"      ")},c=function(e){var t=e.table,r=e.setters,n=e.conditional,u=e.listReturning;return("\nUPDATE "+t+"\n  SET "+r+"\n  "+n+"\n  RETURNING "+u+";\n").trim()};t["default"]=function(e){var t=(0,f.objToListFields)(e),r=l(e),n=(0,f.getListReturning)(e),u=(0,o["default"])((0,a["default"])({select:t},e));return c((0,a["default"])({setters:r,conditional:u,listReturning:n},e))}},function(e,t){e.exports=require("babel-runtime/helpers/defineProperty")},function(e,t){e.exports=require("pg")}]);
//# sourceMappingURL=q-postgres.min.js.map